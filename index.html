<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RA Portal - System Documentation v2</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sarabun:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        :root {
            --primary: #6366f1;
            --primary-light: #818cf8;
            --secondary: #10b981;
            --accent: #f59e0b;
            --danger: #ef4444;
            --bg: #0a0a0f;
            --sidebar-bg: #111118;
            --card-bg: rgba(20, 20, 30, 0.8);
            --text-main: #f1f5f9;
            --text-muted: #94a3b8;
            --border: rgba(255, 255, 255, 0.08);
            --glass: rgba(255, 255, 255, 0.02);
            --radius: 16px;
            --glow: 0 0 40px rgba(99, 102, 241, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Sarabun', 'Inter', sans-serif;
            background: var(--bg);
            background-image:
                radial-gradient(ellipse at 20% 20%, rgba(99, 102, 241, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(16, 185, 129, 0.06) 0%, transparent 50%);
            color: var(--text-main);
            line-height: 1.7;
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: var(--sidebar-bg);
            border-right: 1px solid var(--border);
            padding: 2rem 1.5rem;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .logo {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--primary-light), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo-sub {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
        }

        .nav-section {
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin: 1.5rem 0 0.75rem;
        }

        .nav-links {
            list-style: none;
        }

        .nav-links a {
            color: var(--text-muted);
            text-decoration: none;
            padding: 0.6rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-radius: 10px;
            font-size: 0.9rem;
            transition: all 0.2s;
            margin-bottom: 2px;
        }

        .nav-links a:hover {
            background: var(--glass);
            color: var(--text-main);
        }

        .nav-links a.active {
            background: rgba(99, 102, 241, 0.15);
            color: var(--primary-light);
        }

        /* Main Content */
        .main-content {
            margin-left: 260px;
            padding: 3rem 4rem;
            width: calc(100% - 260px);
            max-width: 1000px;
        }

        header {
            margin-bottom: 4rem;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
        }

        h2 {
            font-size: 1.6rem;
            font-weight: 600;
            margin: 4rem 0 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        h3 {
            font-size: 1.15rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--text-main);
        }

        h4 {
            font-size: 0.95rem;
            font-weight: 600;
            margin: 1.5rem 0 0.75rem;
            color: var(--primary-light);
        }

        p {
            margin-bottom: 1.25rem;
            color: var(--text-muted);
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            padding: 1.75rem;
            border-radius: var(--radius);
            margin-bottom: 1.5rem;
            backdrop-filter: blur(20px);
            box-shadow: var(--glow);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .card-icon.admin {
            background: rgba(239, 68, 68, 0.15);
        }

        .card-icon.teacher {
            background: rgba(99, 102, 241, 0.15);
        }

        .card-icon.student {
            background: rgba(16, 185, 129, 0.15);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.25rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.25rem;
        }

        /* Badge */
        .badge {
            display: inline-flex;
            padding: 0.25rem 0.6rem;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .badge.admin {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
        }

        .badge.teacher {
            background: rgba(99, 102, 241, 0.2);
            color: #a5b4fc;
        }

        .badge.student {
            background: rgba(16, 185, 129, 0.2);
            color: #6ee7b7;
        }

        .badge.info {
            background: rgba(14, 165, 233, 0.2);
            color: #7dd3fc;
        }

        /* Mermaid */
        .mermaid-container {
            background: #1a1a24;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            margin: 1.5rem 0;
            overflow-x: auto;
        }

        .mermaid {
            display: flex;
            justify-content: center;
        }

        /* Lists */
        ul {
            margin-bottom: 1.25rem;
            padding-left: 1.25rem;
            color: var(--text-muted);
        }

        li {
            margin-bottom: 0.4rem;
        }

        li strong {
            color: var(--text-main);
        }

        code {
            background: rgba(99, 102, 241, 0.1);
            padding: 0.15rem 0.4rem;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
            color: var(--primary-light);
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        th,
        td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            color: var(--text-muted);
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        tr:hover {
            background: var(--glass);
        }

        /* Security Box */
        .security-box {
            border-left: 3px solid var(--secondary);
            padding-left: 1.25rem;
            margin: 1.5rem 0;
        }

        .security-box.warning {
            border-left-color: var(--accent);
        }

        /* Footer */
        footer {
            margin-top: 5rem;
            padding: 2rem 0;
            border-top: 1px solid var(--border);
            text-align: center;
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        /* Responsive */
        @media (max-width: 900px) {
            .sidebar {
                display: none;
            }

            .main-content {
                margin-left: 0;
                width: 100%;
                padding: 1.5rem;
            }

            .grid-2 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <nav class="sidebar">
        <div class="logo">RA Portal</div>
        <div class="logo-sub">Dev by mim</div>

        <div class="nav-section">Overview</div>
        <ul class="nav-links">
            <li><a href="#overview">üìã ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö</a></li>
        </ul>

        <div class="nav-section">Frontend</div>
        <ul class="nav-links">
            <li><a href="#admin">üëî Admin Dashboard</a></li>
            <li><a href="#teacher">üìö Teacher Dashboard</a></li>
            <li><a href="#student">üéí Student Dashboard</a></li>
            <li><a href="#gamification">üéÆ Gamification</a></li>
        </ul>

        <div class="nav-section">Backend</div>
        <ul class="nav-links">
            <li><a href="#database">üóÑÔ∏è Database Schema</a></li>
            <li><a href="#workflow">‚öôÔ∏è Workflow</a></li>
            <li><a href="#security">üîí Security</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <!-- OVERVIEW -->
        <header id="overview">
            <h1>RA Portal System Documentation</h1>
            <p class="subtitle">‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞ (Competency-based Assessment)
                ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏∏‡πà‡∏á‡∏≠‡∏£‡∏∏‡∏ì</p>

            <div class="card">
                <h3>üéØ Core Features</h3>
                <div class="grid">
                    <div>
                        <h4>Academic Management</h4>
                        <ul>
                            <li>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ ‡∏ß‡∏¥‡∏ä‡∏≤ ‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</li>
                            <li>‡∏•‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏¥‡∏ö‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞ 4 ‡∏£‡∏∞‡∏î‡∏±‡∏ö</li>
                            <li>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</li>
                        </ul>
                    </div>
                    <div>
                        <h4>Gamification System</h4>
                        <ul>
                            <li>‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô (Virtual Pet) ‡∏ó‡∏µ‡πà‡πÇ‡∏ï‡∏ï‡∏≤‡∏° XP</li>
                            <li>‡∏£‡∏∞‡∏ö‡∏ö Streak ‡πÅ‡∏•‡∏∞ Badge</li>
                            <li>Pet Runner Mini-game</li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>

        <!-- ADMIN DASHBOARD -->
        <section id="admin">
            <h2>üëî Admin Dashboard</h2>
            <p>‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö (Super Admin) ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon admin">üë•</div>
                    <div>
                        <strong>User Management</strong>
                        <div style="font-size:0.8rem;color:var(--text-muted)">AdminManager, TeacherManager,
                            StudentManager</div>
                    </div>
                </div>
                <ul>
                    <li><strong>‡∏Ñ‡∏£‡∏π:</strong> ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î Homeroom ‡πÅ‡∏•‡∏∞ Teaching Slots (‡∏ß‡∏¥‡∏ä‡∏≤ + ‡∏´‡πâ‡∏≠‡∏á)</li>
                    <li><strong>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô:</strong> ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£</li>
                    <li><strong>CSV Bulk Import:</strong> ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏π‡πÅ‡∏•‡∏∞‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏ü‡∏•‡πå CSV</li>
                </ul>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h4>üìä Analytics Panel</h4>
                    <ul>
                        <li>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏π ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ß‡∏¥‡∏ä‡∏≤</li>
                        <li>‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞</li>
                        <li>‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏ß‡∏° 3 ‡∏õ‡∏µ (ThreeYearSummary)</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>ü§ñ AI Config Panel</h4>
                    <ul>
                        <li>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Gemini API Key</li>
                        <li>‡∏õ‡∏£‡∏±‡∏ö‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó ‡∏ô‡πâ‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏á ‡πÅ‡∏•‡∏∞‡∏à‡∏∏‡∏î‡πÄ‡∏ô‡πâ‡∏ô‡∏Ç‡∏≠‡∏á AI</li>
                        <li>‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå AI Feedback</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- TEACHER DASHBOARD -->
        <section id="teacher">
            <h2>üìö Teacher Dashboard</h2>
            <p>‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏£‡∏π‡∏ú‡∏π‡πâ‡∏™‡∏≠‡∏ô ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ 5 ‡πÅ‡∏ó‡πá‡∏ö‡∏´‡∏•‡∏±‡∏Å</p>

            <div class="mermaid-container">
                <pre class="mermaid">
flowchart LR
    subgraph Teacher["üßë‚Äçüè´ Teacher Dashboard"]
        direction TB
        T1["üìä Dashboard"]
        T2["üìù Grading"]
        T3["‚öôÔ∏è Config"]
        T4["üè† Homeroom"]
        T5["üìñ Gradebook"]
    end
    
    T1 --> |"‡∏î‡∏π‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°\n‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô"| S1["‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ + ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô"]
    T2 --> |"‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô\n‡∏£‡∏≤‡∏¢‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô"| S2["Raw Score\n+ Competency"]
    T3 --> |"‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£\n‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ"| S3["Units\n+ Sub-Outputs"]
    T4 --> |"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å\n‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°"| S4["Homeroom Logs\n+ Food Logs"]
    T5 --> |"‡∏î‡∏π‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô\n‡πÅ‡∏ö‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á"| S5["Grade Matrix"]

    style Teacher fill:#1e1e2e,stroke:#6366f1,color:#fff
    style T1 fill:#312e81,stroke:#818cf8,color:#fff
    style T2 fill:#312e81,stroke:#818cf8,color:#fff
    style T3 fill:#312e81,stroke:#818cf8,color:#fff
    style T4 fill:#312e81,stroke:#818cf8,color:#fff
    style T5 fill:#312e81,stroke:#818cf8,color:#fff
                </pre>
            </div>

            <div class="grid">
                <div class="card">
                    <span class="badge teacher">GradingTab</span>
                    <h4>üìù ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h4>
                    <ul>
                        <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤ ‚Üí ‡∏´‡∏ô‡πà‡∏ß‡∏¢ ‚Üí ‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô</li>
                        <li>‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏¥‡∏ö (Raw Score)</li>
                        <li>‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞ 4 ‡∏£‡∏∞‡∏î‡∏±‡∏ö</li>
                        <li>‡πÉ‡∏ä‡πâ AI ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Feedback</li>
                    </ul>
                </div>
                <div class="card">
                    <span class="badge teacher">ConfigTab</span>
                    <h4>‚öôÔ∏è Config / Unit Editor</h4>
                    <ul>
                        <li>‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</li>
                        <li>‡∏Å‡∏≥‡∏´‡∏ô‡∏î Main Output ‡πÅ‡∏•‡∏∞ Sub-Output</li>
                        <li>‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏ì‡∏ë‡πå Rubric</li>
                        <li>Import JSON ‡∏à‡∏≤‡∏Å Gemini</li>
                    </ul>
                </div>
                <div class="card">
                    <span class="badge teacher">HomeroomTab</span>
                    <h4>üè† Homeroom & Food Unit</h4>
                    <ul>
                        <li>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô (Punctuality, Uniform, Participation)</li>
                        <li>‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå (5 ‡πÄ‡∏Å‡∏ì‡∏ë‡πå)</li>
                        <li>‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏°</li>
                    </ul>
                </div>
                <div class="card">
                    <span class="badge teacher">RewardModal</span>
                    <h4>üéÅ Teacher Rewards</h4>
                    <ul>
                        <li>‡πÉ‡∏´‡πâ XP Bonus ‡πÅ‡∏Å‡πà‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</li>
                        <li>‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£ Pet</li>
                        <li>‡πÉ‡∏´‡πâ Badge ‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- STUDENT DASHBOARD -->
        <section id="student">
            <h2>üéí Student Dashboard</h2>
            <p>‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</p>

            <div class="grid">
                <div class="card">
                    <span class="badge student">OverviewTab</span>
                    <h4>üìä Overview</h4>
                    <ul>
                        <li>‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</li>
                        <li>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πâ‡∏≤‡∏ß‡∏´‡∏ô‡πâ‡∏≤</li>
                        <li>‡∏î‡∏π‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</li>
                    </ul>
                </div>
                <div class="card">
                    <span class="badge student">AssignmentsTab</span>
                    <h4>üìã Assignments</h4>
                    <ul>
                        <li>‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏°‡∏≠‡∏ö‡∏´‡∏°‡∏≤‡∏¢</li>
                        <li>‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô (Upload ‡πÑ‡∏ü‡∏•‡πå/‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°)</li>
                        <li>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô Self-Reflection</li>
                    </ul>
                </div>
                <div class="card">
                    <span class="badge student">ProgressTab</span>
                    <h4>üìà Progress</h4>
                    <ul>
                        <li>Radar Chart ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤</li>
                        <li>‡∏î‡∏π‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô Homeroom ‡πÅ‡∏•‡∏∞ Food Unit</li>
                        <li>Life Skills Radar</li>
                    </ul>
                </div>
                <div class="card">
                    <span class="badge student">PetWidget</span>
                    <h4>üêæ Pet System</h4>
                    <ul>
                        <li>‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á (XP, Level, Happiness)</li>
                        <li>‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£/‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏±‡∏ö Pet</li>
                        <li>‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏•‡πà‡∏ô Pet Runner Game</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- GAMIFICATION -->
        <section id="gamification">
            <h2>üéÆ Gamification System</h2>
            <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏á‡∏à‡∏π‡∏á‡πÉ‡∏à‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô‡πÅ‡∏•‡∏∞ XP (Experience Points)</p>

            <div class="mermaid-container">
                <pre class="mermaid">
flowchart TD
    subgraph XP["‚≠ê XP Calculation"]
        A["‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏¥‡∏ö\n(Raw Score)"] --> B["Base XP\n= (score/maxScore) √ó 100"]
        C["‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏°‡∏£‡∏£‡∏ñ‡∏ô‡∏∞\n(1-4)"] --> D["Multiplier\n1: √ó1.0  2: √ó1.5\n3: √ó2.0  4: √ó2.5"]
        B --> E["Total XP\n= Base √ó Multiplier"]
        D --> E
    end

    subgraph Level["üìä Level System"]
        E --> F["Level 0-20\n(21 ‡∏£‡∏∞‡∏î‡∏±‡∏ö)"]
        F --> G["‡∏£‡∏∞‡∏î‡∏±‡∏ö XP ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£:\n0‚Üí50‚Üí150‚Üí300‚Üí...‚Üí21000"]
    end

    subgraph Pet["üêæ Pet Evolution"]
        F --> H["Stage ‡∏ï‡∏≤‡∏° Level"]
        H --> I1["ü•ö Egg\nLevel 0"]
        H --> I2["üê£ Baby\nLevel 1-5"]
        H --> I3["üêï Teen\nLevel 6-10"]
        H --> I4["ü¶ä Adult\nLevel 11-15"]
        H --> I5["üêâ Legend\nLevel 16-20"]
    end

    style XP fill:#1e1e2e,stroke:#f59e0b,color:#fff
    style Level fill:#1e1e2e,stroke:#6366f1,color:#fff
    style Pet fill:#1e1e2e,stroke:#10b981,color:#fff
                </pre>
            </div>

            <div class="card">
                <h4>üîÑ Rebirth System (‡∏à‡∏∏‡∏ï‡∏¥)</h4>
                <p>‡πÄ‡∏°‡∏∑‡πà‡∏≠ Pet ‡∏ñ‡∏∂‡∏á Level 20 ‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ "‡∏à‡∏∏‡∏ï‡∏¥" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å‡πÑ‡∏Ç‡πà ‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡πÑ‡∏î‡πâ:</p>
                <ul>
                    <li>Rebirth Count +1</li>
                    <li>XP Bonus ‡∏ñ‡∏≤‡∏ß‡∏£ +5% ‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏à‡∏∏‡∏ï‡∏¥‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á</li>
                    <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏¢‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ</li>
                </ul>
            </div>

            <div class="grid-2">
                <div class="card">
                    <h4>üî• Streak Bonuses</h4>
                    <table>
                        <tr>
                            <th>Streak Days</th>
                            <th>XP Bonus</th>
                        </tr>
                        <tr>
                            <td>3 ‡∏ß‡∏±‡∏ô</td>
                            <td>+10%</td>
                        </tr>
                        <tr>
                            <td>7 ‡∏ß‡∏±‡∏ô</td>
                            <td>+25%</td>
                        </tr>
                        <tr>
                            <td>14 ‡∏ß‡∏±‡∏ô</td>
                            <td>+50%</td>
                        </tr>
                        <tr>
                            <td>30 ‡∏ß‡∏±‡∏ô</td>
                            <td>+100%</td>
                        </tr>
                    </table>
                </div>
                <div class="card">
                    <h4>üèÜ Badge Categories</h4>
                    <ul>
                        <li><strong>Streak:</strong> ‡πÑ‡∏ü‡∏•‡∏∏‡∏Å, ‡πÑ‡∏ü‡πÇ‡∏´‡∏°, ‡πÑ‡∏ü‡∏ô‡∏¥‡∏£‡∏±‡∏ô‡∏î‡∏£‡πå</li>
                        <li><strong>Level:</strong> ‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô, ‡∏ô‡∏±‡∏Å‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢, ‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô</li>
                        <li><strong>Academic:</strong> ‡πÄ‡∏û‡∏≠‡∏£‡πå‡πÄ‡∏ü‡∏Ñ, ‡∏ô‡∏±‡∏Å‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô</li>
                        <li><strong>Special:</strong> ‡∏Ñ‡∏£‡∏π‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏°</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- DATABASE -->
        <section id="database">
            <h2>üóÑÔ∏è Database Schema (ERD)</h2>
            <p>‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ PostgreSQL ‡∏ú‡πà‡∏≤‡∏ô Supabase ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏Å</p>

            <h3>Academic Tables</h3>
            <div class="mermaid-container">
                <pre class="mermaid">
erDiagram
    admins {
        uuid id PK
        text email UK
        text name
        boolean is_super
    }
    
    teachers {
        uuid id PK
        text email UK
        text name
        text homeroom
        jsonb teaching_slots
        text[] allowed_class
    }
    
    students {
        uuid id PK
        text student_id UK
        text email
        text name
        text class_room
        integer food_group
    }
    
    subjects {
        text id PK
        text code
        text name
        jsonb competencies
    }
    
    units {
        uuid id PK
        text name
        text subject_id FK
        uuid teacher_id FK
        jsonb main_outputs
    }
    
    sub_outputs {
        uuid id PK
        text name
        uuid unit_id FK
        integer max_score
        text[] assigned_class_rooms
        jsonb competency_criteria
    }
    
    raw_scores {
        uuid id PK
        text student_id FK
        uuid sub_output_id FK
        numeric score
        text feedback
    }
    
    competency_scores {
        uuid id PK
        text student_id FK
        uuid sub_output_id FK
        integer level
        text ai_feedback
    }
    
    submissions {
        uuid id PK
        text student_id FK
        uuid sub_output_id FK
        text file_url
        boolean graded
    }

    subjects ||--o{ units : contains
    units ||--o{ sub_outputs : has
    sub_outputs ||--o{ raw_scores : "scores for"
    sub_outputs ||--o{ competency_scores : "evaluates"
    sub_outputs ||--o{ submissions : "receives"
                </pre>
            </div>

            <h3>Gamification Tables</h3>
            <div class="mermaid-container">
                <pre class="mermaid">
erDiagram
    pet_species {
        text id PK
        text name
        text rarity
        jsonb sprites
    }
    
    student_pets {
        uuid id PK
        text student_id UK
        text species_id FK
        text name
        text stage
        integer xp
        integer level
        integer happiness
        integer rebirth_count
    }
    
    badges {
        text id PK
        text name
        text icon
        text category
        integer xp_reward
    }
    
    student_badges {
        uuid id PK
        text student_id FK
        text badge_id FK
        timestamp earned_at
    }
    
    teacher_rewards {
        uuid id PK
        text from_teacher_id FK
        text to_student_id FK
        text reward_type
        integer reward_value
        boolean is_claimed
    }

    pet_species ||--o{ student_pets : "species of"
    badges ||--o{ student_badges : "awarded as"
                </pre>
            </div>
        </section>

        <!-- WORKFLOW -->
        <section id="workflow">
            <h2>‚öôÔ∏è System Workflow</h2>

            <h3>Authentication Flow</h3>
            <div class="mermaid-container">
                <pre class="mermaid">
sequenceDiagram
    participant U as User
    participant A as App
    participant G as Google OAuth
    participant S as Supabase
    participant DB as Database

    U->>A: ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"
    A->>G: signInWithOAuth()
    G-->>U: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ö‡∏±‡∏ç‡∏ä‡∏µ Google
    Note over G: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô @roong-aroon.ac.th
    G-->>A: session + email
    A->>A: isAllowedDomain(email)
    alt Domain ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        A->>S: getUserByEmail()
        S->>DB: Query admins, teachers, students
        DB-->>S: User data + roles
        S-->>A: { type, availableRoles }
        A-->>U: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Dashboard ‡∏ï‡∏≤‡∏° Role
    else Domain ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
        A->>A: signOut()
        A-->>U: ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î
    end
                </pre>
            </div>

            <h3>Grading Workflow</h3>
            <div class="mermaid-container">
                <pre class="mermaid">
flowchart LR
    subgraph Teacher["üßë‚Äçüè´ Teacher Actions"]
        T1["‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤"]
        T2["‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏ô‡πà‡∏ß‡∏¢"]
        T3["‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏á‡∏≤‡∏ô"]
        T4["‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô"]
    end

    subgraph Data["üíæ Database"]
        D1["raw_scores"]
        D2["competency_scores"]
    end

    subgraph Student["üéí Student Side"]
        S1["XP ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡∏°‡πà"]
        S2["Pet Level Up"]
        S3["Badge ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å"]
    end

    T1 --> T2 --> T3 --> T4
    T4 -->|"INSERT"| D1
    T4 -->|"INSERT"| D2
    D1 --> S1
    D2 --> S1
    S1 --> S2
    S2 --> S3

    style Teacher fill:#1e1e2e,stroke:#6366f1,color:#fff
    style Data fill:#1e1e2e,stroke:#f59e0b,color:#fff
    style Student fill:#1e1e2e,stroke:#10b981,color:#fff
                </pre>
            </div>
        </section>

        <!-- SECURITY -->
        <section id="security">
            <h2>üîí Security Architecture</h2>
            <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô 2 ‡∏ä‡∏±‡πâ‡∏ô: Authentication Layer ‡πÅ‡∏•‡∏∞ Database Layer</p>

            <div class="card">
                <h4>üîê Layer 1: Google OAuth + Domain Restriction</h4>
                <div class="security-box">
                    <p>‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö 2 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:</p>
                    <ul>
                        <li><strong>Domain Restriction:</strong> ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏≠‡∏µ‡πÄ‡∏°‡∏• <code>@roong-aroon.ac.th</code>
                            ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏î‡∏¢ <code>isAllowedDomain()</code>)</li>
                        <li><strong>Database Whitelist:</strong> ‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á <code>admins</code>,
                            <code>teachers</code> ‡∏´‡∏£‡∏∑‡∏≠ <code>students</code> ‡∏à‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
                        </li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h4>üõ°Ô∏è Layer 2: Row Level Security (RLS)</h4>
                <div class="security-box">
                    <p>Supabase RLS ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏ñ‡∏ß:</p>
                </div>

                <table>
                    <tr>
                        <th>Role</th>
                        <th>SELECT</th>
                        <th>INSERT</th>
                        <th>UPDATE</th>
                        <th>DELETE</th>
                    </tr>
                    <tr>
                        <td><span class="badge admin">Admin</span></td>
                        <td>‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td>
                        <td>‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td>
                        <td>‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td>
                        <td>‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</td>
                    </tr>
                    <tr>
                        <td><span class="badge teacher">Teacher</span></td>
                        <td>‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</td>
                        <td>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</td>
                        <td>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏ô‡∏ß‡∏¥‡∏ä‡∏≤‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</td>
                        <td>‚ùå</td>
                    </tr>
                    <tr>
                        <td><span class="badge student">Student</span></td>
                        <td>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</td>
                        <td>‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</td>
                        <td>‚ùå</td>
                        <td>‚ùå</td>
                    </tr>
                </table>
            </div>

            <div class="card">
                <h4>‚ö†Ô∏è Development Mode</h4>
                <div class="security-box warning">
                    <p>‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î Development:</p>
                    <ul>
                        <li>RLS ‡∏ñ‡∏π‡∏Å <strong>DISABLE</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö</li>
                        <li>Mock data ‡∏°‡∏µ flag <code>is_mock = TRUE</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏¢‡∏Å‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á</li>
                        <li>‡∏Å‡πà‡∏≠‡∏ô Production ‡∏ï‡πâ‡∏≠‡∏á <strong>ENABLE RLS</strong> ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Policy ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
                    </ul>
                </div>
            </div>
        </section>

        <footer>
            RA Portal
        </footer>
    </main>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#6366f1',
                primaryTextColor: '#f1f5f9',
                primaryBorderColor: '#818cf8',
                lineColor: '#94a3b8',
                secondaryColor: '#10b981',
                tertiaryColor: '#1e1e2e',
                fontFamily: 'Sarabun, Inter, sans-serif'
            },
            flowchart: {
                curve: 'basis',
                padding: 20
            },
            securityLevel: 'loose'
        });

        // Active nav state
        const sections = document.querySelectorAll('section, header');
        const navLinks = document.querySelectorAll('.nav-links a');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(a => a.classList.remove('active'));
                    const activeLink = document.querySelector(`.nav-links a[href="#${entry.target.id}"]`);
                    if (activeLink) activeLink.classList.add('active');
                }
            });
        }, { threshold: 0.3 });

        sections.forEach(sec => observer.observe(sec));
    </script>
</body>

</html>